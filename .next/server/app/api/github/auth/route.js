(()=>{var e={};e.id=244,e.ids=[244],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},92577:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>l,routeModule:()=>p,serverHooks:()=>h,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>u});var o=r(96559),a=r(48088),n=r(37719),i=r(32190);async function u(e){let t=e.nextUrl.searchParams.get("code");if(!t)return i.NextResponse.json({error:"No code provided"},{status:400});try{let r=await fetch("https://github.com/login/oauth/access_token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({client_id:process.env.GITHUB_CLIENT_ID,client_secret:process.env.GITHUB_CLIENT_SECRET,code:t})}),s=await r.json();if(s.error)return i.NextResponse.json({error:s.error},{status:400});let o=await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${s.access_token}`,Accept:"application/vnd.github.v3+json"}});await o.json();let a=i.NextResponse.redirect(new URL("/dashboard",e.url));return a.cookies.set("github_token",s.access_token,{httpOnly:!0,secure:!0,maxAge:2592e3}),a}catch(e){return console.error("GitHub auth error:",e),i.NextResponse.json({error:"Authentication failed"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/github/auth/route",pathname:"/api/github/auth",filename:"route",bundlePath:"app/api/github/auth/route"},resolvedPagePath:"C:\\Users\\abhis\\OneDrive\\Desktop\\collabhub\\app\\api\\github\\auth\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:d,serverHooks:h}=p;function l(){return(0,n.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:d})}},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(92577));module.exports=s})();